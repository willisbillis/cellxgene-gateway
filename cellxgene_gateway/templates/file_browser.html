<!--
 Copyright 2019 Novartis Institutes for BioMedical Research Inc. Licensed
 under the Apache License, Version 2.0 (the "License"); you may not use
 this file except in compliance with the License. You may obtain a copy
 of the License at http://www.apache.org/licenses/LICENSE-2.0. Unless
 required by applicable law or agreed to in writing, software distributed
 under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
 OR CONDITIONS OF ANY KIND, either express or implied. See the License for
 the specific language governing permissions and limitations under the License.
-->

<html>
<head>
     <title>Cellxgene Gateway - File Browser</title>
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
     <link rel="icon" type="image/png" href="{{ url_for('static', filename='nibr.ico') }}">
     {% for script in extra_scripts %}
     <script src="{{ script }}"></script>
     {% endfor %}
     <script src="{{ url_for('static', filename='js/annotation.js') }}"></script>
     <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
     <style>
          body { 
               background: #f8f9fa; 
               font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          }
          .container { 
               background: white; 
               border-radius: 12px; 
               box-shadow: 0 2px 8px rgba(0,0,0,0.1); 
               margin: 20px auto; 
               padding: 30px; 
               max-width: 1200px;
          }
          h4 { 
               color: #333; 
               margin-bottom: 20px; 
               font-weight: 500;
          }
          .annotation-item {
               margin-right: 8px;
               white-space: nowrap;
          }
          .download-link {
               color: #007bff;
               text-decoration: none;
               margin-left: 4px;
               font-size: 0.9em;
               padding: 2px 4px;
               border-radius: 3px;
               background: #f8f9fa;
               border: 1px solid #dee2e6;
               display: inline-block;
               line-height: 1;
          }
          .download-link:hover {
               color: #0056b3;
               background: #e9ecef;
               text-decoration: none;
          }
          .annotation-indicator {
               color: #28a745; 
               font-size: 0.8em; 
               font-weight: 500;
               margin-left: 8px;
          }
          ul { 
               list-style-type: none; 
               padding-left: 20px; 
          }
          li { 
               margin: 8px 0; 
               line-height: 1.6;
          }
          li > a {
               color: #007bff;
               font-weight: 500;
          }
          li > a:hover {
               color: #0056b3;
               text-decoration: none;
          }
          .navigation {
               margin-top: 30px;
               padding-top: 20px;
               border-top: 1px solid #dee2e6;
          }
          .navigation ul {
               padding-left: 0;
               display: flex;
               gap: 20px;
          }
          .navigation li {
               margin: 0;
          }
     </style>
</head>
<body>
     <div class="container">
          {% if path %}
          <h3>Cellxgene Gateway - {{ path }}</h3>
          {% else %}
          <h3>Cellxgene Gateway - File Browser</h3>
          {% endif %}

          <h4>Please click on a dataset to view it in Cellxgene Server.</h4>

          {{ rendered_html|safe }}
          
          <div class="navigation">
               <p><strong>Navigation:</strong></p>
               <ul>
               {% if path %}
               <li><a href="{{ url_for('file_browser') }}">top level</a></li>
               {% endif %}
               <li><a href="{{ url_for('index') }}">homepage</a></li>
               </ul>
          </div>
     </div>
</body>
</html>
